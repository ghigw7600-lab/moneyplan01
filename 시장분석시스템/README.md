# 🚀 시장 분석 시스템

AI 기반 주식 및 암호화폐 종합 분석 시스템

## ✨ 주요 기능

### 1. 📊 기술적 분석
- **이동평균선** (MA20, MA60, MA120)
- **RSI** (과매수/과매도 감지)
- **MACD** (골든크로스/데드크로스)
- **볼린저 밴드** (변동성 분석)
- **거래량 분석** (급등 감지)
- **지지/저항선** 자동 탐지
- **추세 분석** (정배열/역배열)

### 2. 🤖 AI 감성 분석
- 최신 뉴스 자동 수집
- 긍정/부정/중립 분류
- 키워드 기반 감성 점수
- 시간별 감성 추세

### 3. 🎯 신뢰도 계산 시스템
- **각 지표별 가중치** 적용
  - 기술적 지표: 40%
  - 감성 분석: 30%
  - 거래량: 20%
  - 지지/저항: 10%
- **신뢰도 근거** 명확히 제시
- **불확실성 요인** 표시
- **리스크 경고**

### 4. 📄 자동 보고서 생성
- HTML 형식 보고서
- 시각적 차트 및 통계
- 종합 판단 및 투자 의견
- 면책조항 포함

---

## 🛠️ 설치 방법

### 1단계: Python 설치 확인
```bash
python --version
# Python 3.8 이상 필요
```

### 2단계: 필수 패키지 설치
```bash
cd "C:\Users\기광우\OneDrive\Desktop\기광우 업무\AI\시장분석시스템"
pip install -r requirements.txt
```

**설치 시간**: 약 5-10분 (인터넷 속도에 따라)

### 3단계: API 키 설정 (선택사항)

#### NewsAPI 키 (뉴스 분석용)
1. https://newsapi.org 접속
2. 무료 계정 생성
3. API 키 발급 (하루 100 요청 무료)
4. `config.py` 파일 열기
5. `NEWS_API_KEY = ""` 에 키 입력

```python
# config.py
NEWS_API_KEY = "여기에_발급받은_키_입력"
```

---

## 🚀 사용 방법

### 기본 사용법

```bash
python market_analyzer.py
```

### 실행 화면
```
🚀 시장 분석 시스템 시작
============================================================

🎯 시장 분석 시스템에 오신 것을 환영합니다!

분석 가능한 항목:
  1. 한국 주식 (예: 005930.KS - 삼성전자)
  2. 미국 주식 (예: AAPL - 애플)
  3. 암호화폐 (예: bitcoin, ethereum)

분석 유형을 선택하세요 (1: 주식, 2: 암호화폐):
```

### 주식 분석 예시

**한국 주식:**
```
분석 유형: 1
종목 코드: 005930.KS
회사명: 삼성전자
```

**미국 주식:**
```
분석 유형: 1
종목 코드: AAPL
회사명: Apple
```

### 암호화폐 분석 예시
```
분석 유형: 2
코인 ID: bitcoin
코인명: 비트코인
```

---

## 📊 주요 종목 코드

### 한국 주식 (코스피)
- 삼성전자: `005930.KS`
- SK하이닉스: `000660.KS`
- NAVER: `035420.KS`
- 현대차: `005380.KS`
- LG에너지솔루션: `373220.KS`

### 한국 주식 (코스닥)
- 카카오: `035720.KQ`
- 셀트리온헬스케어: `091990.KQ`
- 에코프로비엠: `247540.KQ`

### 미국 주식
- 애플: `AAPL`
- 테슬라: `TSLA`
- 마이크로소프트: `MSFT`
- 엔비디아: `NVDA`
- 아마존: `AMZN`
- 구글: `GOOGL`
- 메타: `META`

### 암호화폐
- 비트코인: `bitcoin`
- 이더리움: `ethereum`
- 리플: `ripple`
- 카르다노: `cardano`
- 솔라나: `solana`

---

## 📈 분석 결과 예시

```
============================================================
✅ 분석 완료!
============================================================

종목: 삼성전자(005930.KS)
신호: 📈 BUY
신뢰도: 72.5%
리스크: 중간

📊 주요 근거:
  • [기술적 지표] RSI 28 (과매도) +15%
  • [기술적 지표] MACD 골든크로스 +15%
  • [뉴스 감성] 뉴스 긍정 68% (총 10개) +20%
  • [거래량] 거래량 급증 (1.8배) +15%
  • [지지선] 주요 지지선 근처 (75,000) +10%

⚠️ 주의사항:
  • 뉴스 데이터 부족: 분석된 뉴스가 5개로 적습니다
  • 거시경제 데이터 미반영: 수동으로 최신 뉴스를 확인하세요

============================================================

📄 보고서 위치: reports\005930_KS_20250112_143025.html
브라우저에서 열어보세요!
```

---

## 🎯 신뢰도 해석 가이드

| 신뢰도 | 신호 | 의미 | 추천 행동 |
|-------|------|------|----------|
| **75% 이상** | 🚀 강력 매수 | 매우 강한 매수 신호 | 적극 매수 고려 |
| **60-75%** | 📈 매수 | 중간 강도 매수 신호 | 매수 고려 |
| **40-60%** | ➡️ 중립 | 명확한 방향 없음 | 관망 |
| **25-40%** | 📉 매도 | 중간 강도 매도 신호 | 매도 고려 |
| **25% 이하** | ⚠️ 강력 매도 | 매우 강한 매도 신호 | 적극 매도 고려 |

---

## ⚠️ 중요 주의사항

### 면책조항
- 이 시스템은 **AI 기반 자동 분석**이며, 신뢰도는 참고용입니다.
- **투자 판단은 본인 책임**입니다.
- **손실 가능성**이 있습니다.
- **전문가 상담**을 권장합니다.

### 신뢰도 한계
- **실제 신뢰도: 65-75%** (백테스트 기준)
- **시장 예측 불가능 요인**
  - 갑작스런 규제
  - 지정학적 리스크
  - 시장 조작 (펌프 앤 덤프)
  - 블랙스완 이벤트

### 올바른 사용법
1. **보조 도구로 활용** (단독 판단 금지)
2. **여러 지표 종합 판단**
3. **손절선 필수 설정** (-5%)
4. **분산 투자** (포트폴리오의 5-10%)
5. **감정 배제**

---

## 🔧 고급 설정

### config.py 커스터마이징

```python
# 기술적 지표 설정
MA_PERIODS = [20, 60, 120]  # 이동평균선 기간
RSI_PERIOD = 14              # RSI 기간
MACD_FAST = 12               # MACD 빠른선
MACD_SLOW = 26               # MACD 느린선

# 신뢰도 가중치 조정
WEIGHTS = {
    "technical": 0.40,  # 기술적 지표 40%
    "sentiment": 0.30,  # 감성 분석 30%
    "volume": 0.20,     # 거래량 20%
    "support": 0.10     # 지지/저항 10%
}

# 신호 임계값 조정
SIGNAL_THRESHOLDS = {
    "strong_buy": 75,   # 강력 매수 기준
    "buy": 60,          # 매수 기준
    "neutral": 40,      # 중립 기준
}
```

---

## 📁 프로젝트 구조

```
시장분석시스템/
├── market_analyzer.py      # 메인 실행 파일 ⭐
├── config.py               # 설정 파일
├── requirements.txt        # 필수 패키지
├── README.md              # 사용 설명서
│
├── collectors/            # 데이터 수집
│   ├── stock_collector.py    # 주식 데이터
│   ├── crypto_collector.py   # 암호화폐 데이터
│   └── news_collector.py     # 뉴스 데이터
│
├── analyzers/             # 분석 엔진
│   ├── technical_analyzer.py      # 기술적 분석
│   ├── sentiment_analyzer.py      # 감성 분석
│   └── confidence_calculator.py   # 신뢰도 계산
│
├── reports/               # 보고서 생성
│   └── report_generator.py       # HTML 보고서
│
└── data/                  # 데이터 저장 (자동 생성)
```

---

## 🐛 문제 해결

### 1. 패키지 설치 오류
```bash
# 관리자 권한으로 실행
pip install --upgrade pip
pip install -r requirements.txt --user
```

### 2. yfinance 오류
```bash
pip uninstall yfinance
pip install yfinance --upgrade
```

### 3. 한글 깨짐
```bash
# config.py에서 확인
REPORT_LANGUAGE = "ko"
```

### 4. API 키 오류
- NEWS_API_KEY 재확인
- 하루 100 요청 제한 확인
- https://newsapi.org 에서 키 재발급

---

## 🎓 학습 자료

### 기술적 분석 이해
- RSI: https://www.investopedia.com/terms/r/rsi.asp
- MACD: https://www.investopedia.com/terms/m/macd.asp
- 이동평균선: https://www.investopedia.com/terms/m/movingaverage.asp

### 리스크 관리
- 손절매 설정 방법
- 포지션 사이징
- 분산 투자 전략

---

## 📞 지원

**문제 발생 시:**
1. README.md 문제 해결 섹션 확인
2. config.py 설정 재확인
3. 에러 메시지 스크린샷 저장

---

## 📝 버전 정보

- **버전**: 1.0.0
- **출시일**: 2025-01-12
- **Python**: 3.8+
- **라이선스**: Personal Use

---

## ✅ 완성 버전 2.0 업데이트! (2025-10-13)

### 새로 추가된 기능들

1. **✅ 웹 대시보드** - CMD 없이 브라우저에서 사용!
2. **✅ 텔레그램/카카오톡/이메일 알림** - 3종 알림 시스템
3. **✅ 24시간 자동 모니터링** - 백그라운드 실행
4. **✅ 자동 종목 추천 AI** - 매수 기회 자동 발견
5. **✅ 실시간 뉴스 (클릭 가능 링크)** - 네이버 뉴스 수집
6. **✅ 포트폴리오 관리** - 보유 종목 수익률 계산
7. **✅ 여러 종목 동시 비교** - 최대 10개 한눈에

### 빠른 시작

```bash
# 웹 대시보드 실행 (추천!)
웹대시보드시작.bat

# 자동 종목 추천
자동종목추천.bat

# 기존 CMD 방식
시작.bat
```

**웹 대시보드 접속:** http://localhost:5000

---

**즐거운 투자 되세요! 📈**

⚠️ 투자는 신중하게, 리스크 관리는 필수입니다!
