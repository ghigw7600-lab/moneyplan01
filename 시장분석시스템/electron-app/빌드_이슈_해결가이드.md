# Electron 빌드 이슈 해결 가이드

## 현재 문제

**에러 메시지**:
```
ERROR: Cannot create symbolic link : 클라이언트가 필요한 권한을 가지고 있지 않습니다
C:\Users\기광우\AppData\Local\electron-builder\Cache\winCodeSign\...\darwin\10.12\lib\libcrypto.dylib
```

**원인**:
- electron-builder가 winCodeSign 도구 다운로드 시 macOS 라이브러리 포함
- 7zip이 심볼릭 링크 생성 시도
- Windows는 기본적으로 관리자 권한 없이 심볼릭 링크 생성 불가

---

## 해결 방법

### 방법 1: Windows 개발자 모드 활성화 (권장)

#### Windows 11:
1. `설정` 앱 열기
2. `개인 정보 보호 및 보안` → `개발자용`
3. **개발자 모드** 토글 ON

#### Windows 10:
1. `설정` 앱 열기
2. `업데이트 및 보안` → `개발자용`
3. **개발자 모드** 선택

#### 적용 후:
```bash
cd "C:\Users\기광우\OneDrive\Desktop\기광우 업무\AI\시장분석시스템\electron-app"
npm run build-win
```

---

### 방법 2: 관리자 권한으로 실행

#### PowerShell을 관리자로 실행:
1. 시작 메뉴 검색: `PowerShell`
2. 마우스 오른쪽 클릭 → **관리자 권한으로 실행**
3. 다음 명령어 실행:

```powershell
cd "C:\Users\기광우\OneDrive\Desktop\기광우 업무\AI\시장분석시스템\electron-app"
npm run build-win
```

---

### 방법 3: 캐시 수동 정리 후 재시도

```bash
# 문제가 되는 캐시 폴더 삭제
rd /s /q "%LOCALAPPDATA%\electron-builder\Cache\winCodeSign"

# 다시 빌드
cd "C:\Users\기광우\OneDrive\Desktop\기광우 업무\AI\시장분석시스템\electron-app"
npm run build-win
```

---

### 방법 4: 대안 - PWABuilder APK만 사용

Electron 데스크톱 앱이 필요 없다면:
- **Android**: PWABuilder로 APK 생성 (권한 문제 없음)
- **PC**: 웹 브라우저로 localhost:5003 접속
- **PWA**: Chrome에서 "앱 설치" 기능 사용

**장점**:
- 빌드 이슈 회피
- 배포 파일 크기 작음
- 업데이트 쉬움

**단점**:
- PC에서 완전한 독립 앱 아님
- Python 서버 수동 시작 필요

---

## 빌드 성공 후 결과물

**성공 시 생성되는 파일**:
```
electron-app/dist/머니플랜01.exe  (portable 버전, 약 150MB)
```

**실행 방법**:
1. `머니플랜01.exe` 더블클릭
2. Python 서버 자동 시작 (3초 대기)
3. Electron 윈도우 열림

---

## 추천 조합

| 플랫폼 | 추천 방법 | 이유 |
|--------|----------|------|
| **PC** | 방법 1 (개발자 모드) | 한 번만 설정하면 영구 해결 |
| **Android** | PWABuilder APK | 권한 문제 없음, 간단 |
| **iPhone** | PWA (홈 화면 추가) | App Store 제출 불필요 |

---

## 트러블슈팅

### Q1: 개발자 모드를 켰는데도 실패한다면?
→ PC 재부팅 후 다시 시도

### Q2: 관리자 권한으로 실행했는데도 실패한다면?
→ 바이러스 백신이 7zip 작업을 차단하는지 확인

### Q3: 빌드는 성공했는데 실행 시 "Python을 찾을 수 없습니다"?
→ Python이 PATH에 등록되어 있는지 확인:
```bash
python --version
```

### Q4: Electron 앱 없이도 괜찮다면?
→ PWABuilder APK만 만들고, PC는 브라우저 사용

---

**작성일**: 2025-10-28
**상태**: Electron 빌드 블로킹 이슈 (심볼릭 링크 권한)
**다음 단계**: Windows 개발자 모드 활성화 → 빌드 재시도
